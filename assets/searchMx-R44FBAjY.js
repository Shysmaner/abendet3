var m=Object.defineProperty;var u=(n,o,s)=>o in n?m(n,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[o]=s;var c=(n,o,s)=>u(n,typeof o!="symbol"?o+"":o,s);import{R as h,g,j as e,c as x}from"./country-D3IyiI93.js";/* empty css                  */import{b as p,c as j,e as f}from"./firebase-CbjSvAAB.js";import{A as v}from"./AppearMenu-CU4Cm2S3.js";import{c as k,a as b}from"./cookies-DJwG0iie.js";class N extends h.Component{constructor(s){super(s);c(this,"fetchItems",async()=>{var s;try{const t=((s=localStorage.getItem("input-value"))==null?void 0:s.toLowerCase())||"",i=(await p(j(f,"products"))).docs.map(l=>{const r=l.data(),d=this.calculateAverageRating(r.rating||"");return{id:l.id,...r,averageRating:d}}).filter(l=>{var r;return(r=l.name)==null?void 0:r.toLowerCase().includes(t)});this.setState({items:i})}catch(t){console.error("Error al obtener los productos:",t)}});c(this,"toggleMenu",()=>{const s=this.rightArrowRef.current,t=document.querySelector(".mobile-content");s&&t&&(s.classList.toggle("rotation"),t.classList.toggle("shaking2"),setTimeout(()=>{t.classList.toggle("shaking1"),setTimeout(()=>{t.classList.toggle("shaking2")},200),setTimeout(()=>{t.classList.toggle("shaking1")},200),setTimeout(()=>{t.classList.toggle("visibility")},200)},200))});c(this,"navigateTo",s=>{window.location.href=s});c(this,"handleAcceptCookies",()=>{b(),this.setState({cookiesAccepted:!0})});c(this,"calculateAverageRating",s=>{if(!s||s.length===0)return 0;const t=s.split(", "),a=t.length;let i=0;t.forEach(r=>{const d=parseFloat(r.split(": ")[1]);isNaN(d)||(i+=d)});const l=(i/a).toFixed(2);return Math.min(Math.max(l,1),5)});c(this,"renderStars",s=>{const t=Math.round(s),a=[];for(let i=1;i<=5;i++)a.push(e.jsx("i",{className:`fa-star average-stars ${i<=t?"fa-solid":"fa-regular"}`},i));return a});this.rightArrowRef=h.createRef(),this.state={cookiesAccepted:k(),items:[]}}async componentDidMount(){g().then(s=>{s!=="Mexico"&&(document.body.innerHTML="Página no disponible")}),this.fetchItems(),this.rightArrowRef.current&&this.rightArrowRef.current.addEventListener("click",this.toggleMenu)}componentWillUnmount(){this.rightArrowRef.current&&this.rightArrowRef.current.removeEventListener("click",this.toggleMenu)}render(){const{cookiesAccepted:s,items:t}=this.state;return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"top",children:[e.jsx("i",{className:"fa-solid fa-chevron-right",ref:this.rightArrowRef}),e.jsxs("div",{className:"mobile-content",children:[e.jsx("a",{href:"../index.html",children:"INICIO"}),e.jsx("a",{href:"../about-us/index.html",children:"ACERCA DE"}),e.jsx("a",{href:"../products/index.html",children:"PRODUCTOS"})]}),e.jsx("a",{href:"../index.html",className:"reload-page",children:e.jsx("img",{src:"../../../src/assets/brand.png",className:"brand",alt:"Brand"})}),e.jsxs("div",{className:"top-sections",children:[e.jsx("button",{onClick:()=>this.navigateTo("../"),className:"products btns",children:"INICIO"}),e.jsx("button",{onClick:()=>this.navigateTo("../about-us/index.html"),className:"about-us btns",children:"ACERCA DE"}),e.jsx("button",{onClick:()=>this.navigateTo("../products/index.html"),className:"products btns",children:"PRODUCTOS"})]})]}),e.jsxs("section",{className:"content-section",children:[e.jsxs("button",{className:"results",children:["Resultados para ",localStorage.getItem("input-value")]}),e.jsx("div",{className:"want",children:e.jsx("ul",{children:t.map(a=>e.jsxs("li",{className:"item",children:[e.jsx("img",{src:a.imageUrl,alt:a.name,className:"product-image"}),e.jsx("h3",{children:a.name}),e.jsx("div",{className:"stars-container",children:this.renderStars(a.averageRating||0)}),e.jsx("p",{children:a.averageRating?`${a.averageRating} estrellas`:"Sin calificación"}),e.jsx("button",{onClick:()=>this.navigateTo(`../product${a.id}/index.html`),children:"Ver detalles"})]},a.id))})})]}),!s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"cookies-advice activo",id:"cookies-advice",children:[e.jsx("img",{className:"cookie",src:"../../src/assets/cookie.svg",alt:"Cookie"}),e.jsx("h3",{className:"tittle",children:"Cookies"}),e.jsx("p",{className:"paragraph",children:"Utilizamos cookies propias y de terceros para mejorar nuestros servicios."}),e.jsx("button",{className:"button",id:"accept-cookies-btn",onClick:this.handleAcceptCookies,children:"De acuerdo"}),e.jsx("a",{className:"link",href:"../abendet-cookies/index.html",children:"Aviso de Cookies"})]}),e.jsx("div",{className:"back-cookies-advice activo",id:"back-cookies-advice"})]}),e.jsxs("footer",{className:"footer",children:[e.jsxs("div",{className:"footer-div1",children:[e.jsx("a",{href:"../products/index.html",children:"Productos"}),e.jsx("a",{href:"../about-us/index.html",children:"Acerca De"}),e.jsx("a",{href:"../contact-us/index.html",children:"Contacto"})]}),e.jsxs("div",{className:"footer-div2",children:[e.jsx("a",{href:"../sponsorships/index.html",children:"Patrocinios"}),e.jsx("a",{href:"../abendet-cookies/index.html",children:"Cookies"}),e.jsx("a",{href:"../abendet-privacy/index.html",children:"Privacidad"})]})]}),e.jsx(v,{})]})}}x.createRoot(document.getElementById("root")).render(e.jsx(h.StrictMode,{children:e.jsx(N,{})}));
