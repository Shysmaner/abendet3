var je=Object.defineProperty;var we=(m,c,s)=>c in m?je(m,c,{enumerable:!0,configurable:!0,writable:!0,value:s}):m[c]=s;var o=(m,c,s)=>we(m,typeof c!="symbol"?c+"":c,s);import{R as u,g as Ce,j as e,r as k,c as Se}from"./country-D3IyiI93.js";/* empty css                  *//* empty css              *//* empty css                       */import{c as ve,a as Ie}from"./cookies-DJwG0iie.js";import{a as ke,c as ye,b as Ne}from"./axios-DyxSF49Q.js";import{g as be,q as D,w as N,d as v,e as R,f as g,h as f,u as b,o as V,i as I,j as Ae,k as Pe,l as H,T as K,r as M,m as E,a as De,n as L,p as Re}from"./firebase-C--_s6Y8.js";/* empty css                       */const j=be(De);class Me extends u.Component{constructor(s){super(s);o(this,"fetchPendingPurchases",async()=>{const s=D(v(f,"purchases"),N("deliveryDate","==","pendiente")),t=(await R(s)).docs.map(r=>({id:r.id,...r.data()}));this.setState({purchases:t})});o(this,"assignDeliveryDate",async(s,a)=>{try{const t=g(f,"purchases",s);await b(t,{deliveryDate:a}),this.setState(r=>({purchases:r.purchases.map(n=>n.id===s?{...n,deliveryDate:a}:n)}))}catch(t){console.error("Error assigning delivery date:",t)}});o(this,"navigateTo",s=>{window.location.href=s});o(this,"searchAppear",()=>{this.searchDivRef.current.classList.toggle("search-appear")});o(this,"handleSearchIconClick",()=>{const s=this.searchInputRef.current;s.value===""?s.placeholder=this.state.searchPlaceholder:(localStorage.setItem("input-value",s.value),window.location.href="search/index.html")});o(this,"handleRightArrowClick",()=>{const s=this.rightArrowRef.current,a=this.mobileContentRef.current;s.classList.toggle("rotation"),a.classList.add("shaking2"),setTimeout(()=>{a.classList.toggle("shaking1"),setTimeout(()=>{a.classList.toggle("shaking2")},200),setTimeout(()=>{a.classList.toggle("visibility")},200)},200)});o(this,"handleSearchInputKeyPress",s=>{s.keyCode===13&&this.handleSearchIconClick()});o(this,"handleAcceptCookies",()=>{Ie(),this.setState({cookiesAccepted:!0})});o(this,"handlePasswordChangeClick",()=>{const s=this.newPasswordInputRef.current.value,a=this.currentPasswordRef.current.value;ye(s,a).then(()=>{this.setState({showChangePasswordMessage:!0}),this.setState({errorMessageChangingPassword:!1}),setTimeout(()=>{window.location.href=""},1e3)}).catch(t=>{this.setState({errorMessageChangingPassword:!0}),this.setState({showChangePasswordMessage:!1})})});o(this,"logOut",()=>{j.signOut().then(()=>{console.log("Sesión cerrada"),window.location.href="../../"}).catch(s=>{console.error("Error al cerrar sesión",s)})});o(this,"handleOnChange",s=>{this.setState({progress:!0});const a=s.target.files[0];V(j,t=>{if(t){let r=M(L,`pictures/${t.uid}`),n=Re(r,a);n.on("state_changed",l=>{const d=l.bytesTransferred/l.totalBytes*100;this.setState({uploadValue:d})},l=>{this.setState({message:`Ha ocurrido un error: ${l.message}`})},()=>{E(n.snapshot.ref).then(l=>{setTimeout(()=>{window.location.href=""},500),this.setState({progress:!1}),this.setState({picture:l,message:"¡Foto de perfil actualizada!",fileUploadButtonText:"Subir"})}).catch(l=>{console.error("Error al obtener la URL de descarga",l)})})}}),s.target.files.length>0?this.setState({fileUploadButtonText:`Archivo seleccionado: ${s.target.files[0].name}`}):this.setState({fileUploadButtonText:"Subir"})});o(this,"handleModifyAddress",async(s,a)=>{this.setState({modifyAddressForm:!0,showAddresses:!1,selectedAddress:s,addressIndex:a,userInfo:!1})});o(this,"handleModifyAddressOnDB",async(s,a)=>{const{selectedAddress:t}=this.state;s=t;try{const r=g(f,"addresses",a),d=(await I(r)).data().addresses||[],p=d[this.state.addressIndex],x=d.filter((A,w)=>w!==this.state.addressIndex);await b(r,{addresses:x}),await Ae(g(f,"addresses",a),{addresses:Pe(s)},{merge:!0}),console.log("Address saved successfully:",s),this.setState({addresses:x}),console.log("Address deleted successfully:",p),window.location.href=""}catch(r){throw console.error("Error saving address:",r),r}});o(this,"handleInputChange",(s,a)=>{this.setState(t=>({selectedAddress:{...t.selectedAddress,[s]:a}}))});o(this,"handleCloseModifyAddressForm",()=>{this.setState({modifyAddressForm:!1})});o(this,"handleDeleteAddress",async(s,a)=>{this.setState({selectedAddress:s,addressIndex:a});try{const{userId:t}=this.state,r=g(f,"addresses",t),d=(await I(r)).data().addresses||[],p=d[this.state.addressIndex],x=d.filter((A,w)=>w!==this.state.addressIndex);await b(r,{addresses:x}),console.log("Address deleted successfully:",p),window.location.href=""}catch(t){throw t}});o(this,"handleUserClick",async s=>{this.setState({salesList:!0});try{const a=D(v(f,"purchases"),N("userId","==",s),N("deliveryDate","==","pendiente")),r=(await R(a)).docs.map(n=>({id:n.id,timestamp:n.data().timestamp,items:n.data().items}));this.setState({purchaseHistory:r})}catch{}});o(this,"handleLoadPurchase",async s=>{try{const t=(await I(g(f,"purchases",s))).data(),r=t.items||[],n=t.address||{};this.setState({purchaseDataToDownloadTicket:t,purchaseIdToDownloadTicket:s}),this.setState({selectedPurchaseItems:r,selectedPurchaseAddress:n,payerName:t.payerName,deliveryDate:t.deliveryDate})}catch(a){console.error("Error loading purchase items:",a)}});o(this,"formatDate",s=>{const a=new Date(s),t={day:"numeric",month:"long",year:"numeric"};return a.toLocaleDateString("es-ES",t)});o(this,"handleFilter",()=>{this.fetchPendingPurchases(),this.setState({salesList:!1})});o(this,"handleAddAdressBtnFromUserInfo",()=>{window.location.href="products/index.html",localStorage.setItem("open-add-direction",!0)});o(this,"handleUsersListClick",()=>{this.setState({users:!0,userInfo:!1,salesList:!1,sales:!1,userPicture:"../../src/assets/pfp.png"}),this.fetchUsers()});o(this,"handleAdminActionsClick",s=>{this.setState(a=>({adminActions:a.adminActions===s?null:s}))});o(this,"handleInputChange2",s=>{const{name:a,value:t}=s.target;this.setState({[a]:t})});o(this,"sendMessage",async s=>{s.preventDefault();const{receiverId:a,subject:t,message:r}=this.state,n=this.state.currentUserUID;try{await H(v(f,"messages"),{senderId:n,receiverId:a,subject:t,message:r,timestamp:K.fromDate(new Date),read:"false"}),this.setState({receiverId:"",subject:"",message:"",messageUserForm:!1})}catch{}});o(this,"handleMessageUser",s=>{this.setState({users:!1,messageUserForm:!0,receiverId:s,adminActions:!1,userInfo:!1},()=>{const{receiverId:a}=this.state,t=M(L,`pictures/${a}`);E(t).then(r=>{this.setState({userPicture:r})}).catch(r=>{})})});o(this,"handleShowMessages",()=>{this.setState({userMessages:!0})});o(this,"handleMessageClick",async s=>{try{const a=g(f,"messages",s),t=await I(a);if(t.exists()){const r=t.data();await b(a,{read:"true"});const n=r.subject||"No Subject",l=r.message||"No Message",d=r.senderId||"No sender",p=r.email||"No email";this.setState({messageShow:!0,messageSubject:n,messageMessage:l,messageSender:d,messageEmail:p})}else console.log("El documento no existe.")}catch(a){console.error("Error loading message:",a),console.log("Hubo un error al cargar el mensaje.")}});o(this,"handleCloseMessageClick",()=>{this.setState({messageShow:!1}),this.fetchMessages()});o(this,"handleCloseMessagesWindow",()=>{this.setState({userMessages:!1}),this.fetchMessages()});o(this,"handleReplay",s=>{this.setState({messageBackForm:!0,userMessages:!1,messageShow:!1,messageSender:s})});o(this,"sendMessageBack",async s=>{s.preventDefault();const{subject:a,message:t}=this.state,r=this.state.messageSender,n=this.state.currentUserUID;try{await H(v(f,"messages"),{senderId:n,receiverId:r,subject:a,message:t,timestamp:K.fromDate(new Date),read:"false",email:j.currentUser.email}),this.setState({receiverId:"",subject:"",message:"",messageBackForm:!1})}catch{}});o(this,"userSearch",s=>{const a=s.target.value.toLowerCase();document.querySelectorAll("li").forEach(t=>{a===""?(t.style.setProperty("background","none"),t.style.setProperty("display","block")):t.textContent.toLowerCase().includes(a)?(t.style.setProperty("background","#ccc"),t.style.setProperty("display","block")):(t.style.setProperty("background","none"),t.style.setProperty("display","none"))})});o(this,"updateOnlineStatus",()=>{this.setState({offlineMessage:!navigator.onLine})});this.state={searchPlaceholder:"Introduzca una búsqueda válida",cookiesAccepted:ve(),showPasswordInputs:!1,showCircle:!1,showCheck:!1,showConfirmInput:!1,showConfirmCircle:!1,showConfirmCheck:!1,showConfirmBtn:!1,showChangePasswordBtn:!0,showChangePasswordMessage:!1,errorMessageChangingPassword:!1,userBtn:!0,logInBtn:!1,uploadValue:0,message:"",picture:"../../src/assets/pfp.png",fileUploadButtonText:"Subir",isAdmin:!1,showAddresses:!1,addresses:!1,addressesShow:[],formData:{street:"",colony:"",postalCode:"",additionalInfo:""},modifyAddressForm:!1,selectedAddress:null,userId:null,addressIndex:null,userInfo:!1,email:null,progress:!1,sales:!1,purchases:[],purchaseHistory:[],selectedPurchaseItems:[],salesList:!1,users:!1,usersList:[],adminActions:null,receiverId:"",subject:"",message:"",messageUserForm:!1,userPicture:"../../src/assets/pfp.png",currentUserUID:"",userMessages:!1,messagesShow:[],messageShow:!1,messageSubject:null,messageMessage:null,messajeEmail:null,messageSender:null,unseenMessages:0,messageBackForm:!1,offlineMessage:!navigator.onLine},this.searchDivRef=u.createRef(),this.rightArrowRef=u.createRef(),this.mobileContentRef=u.createRef(),this.searchIconRef=u.createRef(),this.searchInputRef=u.createRef(),this.newPasswordInputRef=u.createRef(),this.newPasswordInputRef2=u.createRef(),this.currentPasswordRef=u.createRef(),this.fileInputRef=u.createRef(),this.fileUploadButton=u.createRef(),this.pfpRef=u.createRef(),this.verifyPassword=this.verifyPassword.bind(this),this.verifyPassword2=this.verifyPassword2.bind(this)}componentDidMount(){Ce().then(r=>{if(r!="Mexico"){let n=document.body;n.innerHTML="",n.innerHTML="Página no disponible"}}),window.addEventListener("online",this.updateOnlineStatus),window.addEventListener("offline",this.updateOnlineStatus),V(j,r=>{if(r){this.setState({currentUserUID:r.uid}),this.setState({userId:r.uid,email:r.email}),this.fetchAddresses(),this.fetchMessages();const n=M(L,`pictures/${r.uid}`);E(n).then(l=>{this.setState({picture:l})}).catch(l=>{}),Ne.includes(r.email)&&(this.setState({isAdmin:!0}),this.fetchPendingPurchases())}else this.setState({userBtn:!1}),this.setState({logInBtn:!0})});const{rightArrowRef:s,searchIconRef:a,searchInputRef:t}=this;s.current.addEventListener("click",this.handleRightArrowClick),a.current.addEventListener("click",this.handleSearchIconClick),t.current.addEventListener("keypress",this.handleSearchInputKeyPress)}componentWillUnmount(){window.removeEventListener("online",this.updateOnlineStatus),window.removeEventListener("offline",this.updateOnlineStatus);const{rightArrowRef:s,searchIconRef:a,searchInputRef:t}=this;s.current.removeEventListener("click",this.handleRightArrowClick),a.current.removeEventListener("click",this.handleSearchIconClick),t.current.removeEventListener("keypress",this.handleSearchInputKeyPress)}async fetchUsers(){try{const t=(await ke.get("http://localhost:5000/api/users")).data.filter(r=>r.uid!==this.state.currentUserUID);this.setState({usersList:t,loading:!1})}catch(s){alert(s.message)}}async fetchAddresses(){const s=j.currentUser;try{if(!s){console.log("No user logged in."),this.setState({addressesShow:[]});return}const a=g(f,"addresses",s.uid),t=await I(a);if(t.exists()){const n=t.data().addresses||[];this.setState({addressesShow:n})}else this.setState({addressesShow:[]})}catch(a){console.error("Error fetching addresses:",a)}}verifyPassword(){this.newPasswordInputRef.current.value.length>5?this.setState({showCircle:!1,showCheck:!0,showConfirmInput:!0}):this.setState({showCircle:!0,showCheck:!1,showConfirmInput:!1})}verifyPassword2(){const s=this.newPasswordInputRef.current;this.newPasswordInputRef2.current.value===s.value?this.setState({showConfirmCheck:!0,showConfirmBtn:!0}):this.setState({showConfirmCheck:!1,showConfirmBtn:!1})}async fetchMessages(){const s=j.currentUser;let a=0;try{const t=D(v(f,"messages"),N("receiverId","==",s.uid)),n=(await R(t)).docs.map(l=>{const d=l.data();return d.read=="false"&&a++,{id:l.id,...d}});this.setState({messagesShow:n,unseenMessages:a})}catch(t){console.error("Error fetching messages:",t)}}render(){const{cookiesAccepted:s,showPasswordInputs:a,showCircle:t,showCheck:r,showConfirmInput:n,showConfirmCheck:l,showConfirmBtn:d,showChangePasswordBtn:p,showConfirmCircle:x,showChangePasswordMessage:A,errorMessageChangingPassword:w,userBtn:z,logInBtn:W,fileUploadButtonText:_,isAdmin:C,showAddresses:Y,addresses:Te,addressesShow:Z,modifyAddressForm:X,selectedAddress:S,userId:G,userInfo:J,progress:ee,sales:se,purchases:ae,purchaseHistory:te,selectedPurchaseItems:U,selectedPurchaseAddress:y,salesList:re,users:ie,adminActions:ne,messageUserForm:oe,receiverId:T,subject:B,message:F,userMessages:le,messagesShow:O,messageShow:ce,messageBackForm:de,currentUserUID:he,unseenMessages:q,offlineMessage:ue}=this.state,me=ae.reduce((i,h)=>(i[h.userId]||(i[h.userId]=[]),i[h.userId].push(h),i),{}),{usersList:fe}=this.state;return e.jsxs(e.Fragment,{children:[ue&&e.jsx("div",{className:"offline-message",children:e.jsx("p",{children:"Sin conexión a internet"})}),e.jsxs("section",{className:"top",children:[e.jsx("i",{className:"fa-solid fa-chevron-right",ref:this.rightArrowRef}),e.jsx("div",{className:"mobile-content",ref:this.mobileContentRef,children:!C&&e.jsxs(e.Fragment,{children:[e.jsx("a",{href:"products/index.html",children:"PRODUCTOS"}),e.jsx("a",{href:"about-us/index.html",children:"ACERCA DE"}),e.jsx("a",{href:"contact-us/index.html",children:"CONTACTO"})]})}),e.jsx("a",{href:"",className:"reload-page",children:e.jsx("img",{src:"../../src/assets/brand.png",className:"brand",alt:"brand"})}),e.jsx("div",{className:"top-sections",children:!C&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>this.navigateTo("products/index.html"),className:"products btns",children:"PRODUCTOS"}),e.jsx("button",{onClick:()=>this.navigateTo("about-us/index.html"),className:"about-us btns",children:"ACERCA DE"}),e.jsx("button",{onClick:()=>this.navigateTo("contact-us/index.html"),className:"contact-us btns",children:"CONTACTO"})]})}),e.jsxs("div",{className:"look-up",children:[z&&e.jsx("button",{className:"user",name:"user",onClick:()=>this.setState({userInfo:!0,users:!1,sales:!1,messageUserForm:!1}),children:e.jsx("img",{src:"../../src/assets/pfp.png",alt:"",width:32})}),W&&e.jsx("button",{className:"log-btn",onClick:()=>this.navigateTo("../"),children:"Iniciar Sesión"}),e.jsxs("div",{className:"search-div",ref:this.searchDivRef,children:[he&&e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-regular fa-envelope",onClick:this.handleShowMessages}),q!==0&&e.jsx("a",{className:"unseen-messages",children:q})]}),e.jsx("i",{className:"fa-solid fa-magnifying-glass top-search",onClick:this.searchAppear})]})]})]}),!s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"cookies-advice activo",id:"cookies-advice",children:[e.jsx("img",{className:"cookie",src:"../../src/assets/cookie.svg",alt:"Cookie"}),e.jsx("h3",{className:"tittle",children:"Cookies"}),e.jsx("p",{className:"paragraph",children:"Utilizamos cookies propias y de terceros para mejorar nuestros servicios."}),e.jsx("button",{className:"button",id:"accept-cookies-btn",onClick:this.handleAcceptCookies,children:"De acuerdo"}),e.jsx("a",{className:"link",href:"abendet-cookies/index.html",children:"Aviso de Cookies"})]}),e.jsx("div",{className:"back-cookies-advice activo",id:"back-cookies-advice"})]}),e.jsxs("footer",{className:"footer",children:[e.jsxs("div",{className:"footer-div1",children:[e.jsx("a",{href:"products/index.html",children:"Productos"}),e.jsx("a",{href:"about-us/index.html",children:"Acerca De"}),e.jsx("a",{href:"contact-us/index.html",children:"Contacto"})]}),e.jsxs("div",{className:"footer-div2",children:[e.jsx("a",{href:"sponsorships/index.html",children:"Patrocinios"}),e.jsx("a",{href:"abendet-cookies/index.html",children:"Cookies"}),e.jsx("a",{href:"abendet-privacy/index.html",children:"Privacidad"})]})]}),e.jsxs("section",{className:"search",ref:this.searchDivRef,children:[e.jsx("h1",{children:"Estamos contentos de ayudarte"}),e.jsx("input",{className:"search-input",ref:this.searchInputRef}),e.jsx("i",{className:"fa-solid fa-magnifying-glass search-icon",ref:this.searchIconRef,onClick:this.handleSearchIconClick})]}),J&&e.jsxs("div",{className:"user-info",children:[e.jsx("i",{className:"fa-solid fa-xmark close",onClick:()=>this.setState({userInfo:!1,showPasswordInputs:!1,showChangePasswordBtn:!0})}),e.jsx("br",{}),e.jsx("p",{children:"Foto de perfil: "}),e.jsx("img",{src:this.state.picture,alt:"",width:100,className:"pfp-img"}),e.jsx("br",{}),e.jsxs("div",{className:"file-upload-wrapper",children:[e.jsx("button",{className:"file-upload-button",ref:this.fileUploadButton,onClick:()=>this.fileInputRef.current.click(),children:_}),e.jsx("input",{type:"file",id:"fileInput",ref:this.fileInputRef,onChange:this.handleOnChange,style:{display:"none"}})]}),ee&&e.jsx("p",{children:e.jsx("progress",{value:this.state.uploadValue,max:100,className:"progress"})}),e.jsxs("div",{className:"email",children:["Email: ",this.state.email]}),e.jsx("br",{}),p&&e.jsxs("button",{className:"change-password",onClick:()=>this.setState({showPasswordInputs:!0,showChangePasswordBtn:!1}),ref:this.changePasswordBtnRef,children:["Cambiar Contraseña",e.jsx("i",{className:"fa-duotone fa-solid fa-pen-to-square"})]}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),A&&e.jsx("div",{className:"password-successfully-changed",children:"Contraseña cambiada correctamente"}),w&&e.jsx("div",{className:"error-changing-password",children:"Error al cambiar la contraseña"}),a&&e.jsxs("div",{children:[e.jsx("input",{type:"password",placeholder:"Contraseña actual",ref:this.currentPasswordRef}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("input",{type:"password",placeholder:"Nueva contraseña",ref:this.newPasswordInputRef,onKeyUp:this.verifyPassword}),t&&e.jsx("i",{className:"fa-solid fa-circle"}),r&&e.jsx("i",{className:"fa-solid fa-check"}),e.jsx("br",{}),e.jsx("br",{}),n&&e.jsx("input",{type:"password",placeholder:"Confirmar nueva contraseña",ref:this.newPasswordInputRef2,onKeyUp:this.verifyPassword2}),x&&e.jsx("i",{className:"fa-solid fa-circle"}),l&&e.jsx("i",{className:"fa-solid fa-check"}),d&&e.jsx("button",{className:"confirm-change-password-btn",onClick:this.handlePasswordChangeClick,children:"Cambiar Contraseña"})]}),!C&&e.jsxs("button",{className:"manage-addresses-btn",onClick:()=>this.setState({showAddresses:!0}),children:["Administrar Direcciones ",e.jsx("i",{className:"fa-duotone fa-solid fa-pen-to-square"})]}),e.jsx("button",{className:"log-out",onClick:this.logOut,children:"Cerrar Sesión"})]}),Y&&e.jsxs("div",{className:"addresses",children:[e.jsx("i",{className:"fa-solid fa-xmark close",onClick:()=>this.setState({showAddresses:!1})}),"Direcciones guardadas",Z.map((i,h)=>e.jsxs("li",{style:{position:"relative"},children:[e.jsx("i",{className:"fa-duotone fa-solid fa-pen-to-square modify-address ad-i",onClick:()=>this.handleModifyAddress(i,h)}),e.jsx("i",{className:"fa-solid fa-trash delete-address ad-i",onClick:()=>this.handleDeleteAddress(i,h)}),e.jsxs("p",{children:["Calle: ",i.street]}),e.jsxs("p",{children:["Colonia: ",i.colony]}),e.jsxs("p",{children:["Código Postal: ",i.postalCode]}),e.jsxs("p",{children:["Información adicional: ",i.additionalInfo]})]},h)),e.jsxs("button",{className:"add-address-btn",onClick:this.handleAddAdressBtnFromUserInfo,children:["Añadir dirección",e.jsx("i",{className:"fa-solid fa-up-right-from-square"})]})]}),X&&e.jsxs("div",{className:"modify-address-div",children:[e.jsx("i",{className:"fa-solid fa-xmark close",onClick:this.handleCloseModifyAddressForm}),"Calle: ",e.jsx("input",{defaultValue:S.street,onChange:i=>this.handleInputChange("street",i.target.value)}),"Colonia: ",e.jsx("input",{defaultValue:S.colony,onChange:i=>this.handleInputChange("colony",i.target.value)}),"Código Postal: ",e.jsx("input",{defaultValue:S.postalCode,onChange:i=>this.handleInputChange("postalCode",i.target.value)}),"Información adicional: ",e.jsx("input",{defaultValue:S.additionalInfo,onChange:i=>this.handleInputChange("additionalInfo",i.target.value)}),e.jsx("i",{className:"fa-solid fa-check modify-address-save-btn",onClick:()=>this.handleModifyAddressOnDB(S,G)})]}),C&&e.jsxs("div",{className:"admin-tools",children:[e.jsx("button",{onClick:()=>this.setState({sales:!0,userInfo:!1}),children:"Administrar Ventas"}),e.jsx("button",{onClick:this.handleUsersListClick,children:"Usuarios"})]}),se&&e.jsxs("div",{className:"sales",children:[e.jsx("i",{className:"fa-solid fa-xmark close",onClick:()=>this.setState({sales:!1})}),e.jsx("h2",{children:"Ventas"}),re&&e.jsxs("ul",{className:"sales-list",children:[e.jsx("i",{className:"fa-solid fa-xmark close",onClick:()=>this.setState({salesList:!1})}),te.map(i=>e.jsxs(u.Fragment,{children:[e.jsx("li",{children:e.jsxs("button",{onClick:()=>this.handleLoadPurchase(i.id),className:"list-purchase-date",children:["Compra del ",new Date(i.timestamp).toLocaleString()]})}),e.jsx("li",{children:e.jsxs("label",{children:["Asignar Fecha de Entrega:",e.jsx("input",{type:"date",onChange:h=>{const pe=h.target.value,P=new Date(pe),$=new Date(P);$.setDate(P.getDate()+7);const ge=P.toISOString().split("T")[0],xe=$.toISOString().split("T")[0];this.assignDeliveryDate(i.id,`${ge} al ${xe}`)}})]})})]},i.id)),e.jsx("button",{onClick:()=>this.setState({salesList:!1}),className:"sales-list-done-btn",children:"Listo"})]}),e.jsx("button",{className:"filter",onClick:this.handleFilter,children:"Filtrar"}),Object.keys(me).map(i=>e.jsx("li",{children:e.jsxs("button",{onClick:()=>this.handleUserClick(i),className:"buyer",children:["Comprador: ",i," ",e.jsx("i",{className:"fa-solid fa-up-right-from-square"})]})},i))]}),U.length>0&&e.jsxs("div",{className:"selected-purchase",children:[e.jsx("i",{className:"fa-solid fa-xmark close",onClick:()=>this.setState({selectedPurchaseItems:!1})}),e.jsx("h2",{children:"Detalles de la Compra Seleccionada"}),"Comprador: ",this.state.payerName,e.jsx("ul",{children:U.map((i,h)=>e.jsx("li",{children:e.jsx("div",{children:e.jsxs("p",{children:[i.name," x",i.amount," = $",i.totalPrice.toFixed(2)]})})},h))}),e.jsxs("div",{className:"selected-purchase-address",children:[e.jsx("h3",{children:"Dirección de Envío:"}),e.jsxs("p",{children:["Calle: ",y.street]}),e.jsxs("p",{children:["Colonia: ",y.colony]}),e.jsxs("p",{children:["Código Postal: ",y.postalCode]}),e.jsxs("p",{children:["Información adicional: ",y.additionalInfo]})]}),e.jsxs("p",{className:"delivery-date",children:["Fecha de entrega: ",e.jsxs("a",{children:["del ",this.formatDate(this.state.deliveryDate.split(" al ")[0])," al ",this.formatDate(this.state.deliveryDate.split(" al ")[1])]})]}),e.jsx("button",{onClick:()=>this.setState({selectedPurchaseItems:[]}),children:"Cerrar Detalles"})]}),ie&&e.jsxs("div",{className:"users",children:[e.jsx("i",{className:"fa-solid fa-xmark close",onClick:()=>this.setState({users:!1,adminActions:!1})}),e.jsx("h2",{children:"Usuarios"}),e.jsx("input",{type:"text",placeholder:"Buscar",className:"user-search",onKeyUp:this.userSearch}),e.jsx("div",{children:e.jsx("ul",{children:fe.map(i=>e.jsxs("li",{children:[e.jsxs("p",{className:"uid",children:[e.jsx("strong",{children:"UID:"})," ",i.uid]})," ",e.jsxs("p",{className:"email",children:[e.jsx("strong",{children:" Email:"})," ",i.email||"N/A",e.jsx("i",{className:"fa-solid fa-ellipsis-vertical",onClick:()=>this.handleAdminActionsClick(i.uid)})]}),ne===i.uid&&e.jsx("ul",{className:"admin-actions",children:e.jsx("li",{onClick:()=>this.handleMessageUser(i.uid),children:"Mensaje"})}),e.jsx("hr",{})]},i.uid))})})]}),oe&&e.jsxs("form",{onSubmit:this.sendMessage,className:"send-message-form",children:[e.jsx("i",{className:"fa-solid fa-xmark close",onClick:()=>this.setState({messageUserForm:!1})}),e.jsx("img",{src:this.state.userPicture,width:100}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"receiverId",children:"ID del Usuario:"}),e.jsx("input",{type:"text",id:"receiverId",name:"receiverId",value:T,onChange:this.handleInputChange2,required:!0,readOnly:!!T})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",children:"Asunto:"}),e.jsx("input",{type:"text",id:"subject",name:"subject",value:B,onChange:this.handleInputChange2,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",children:"Mensaje:"}),e.jsx("textarea",{id:"message",name:"message",value:F,onChange:this.handleInputChange2,required:!0})]}),e.jsx("button",{type:"submit",children:"Enviar Mensaje"})]}),de&&e.jsxs("form",{onSubmit:this.sendMessageBack,className:"send-message-form",children:[e.jsx("i",{className:"fa-solid fa-xmark close",onClick:()=>this.setState({messageBackForm:!1})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"senderId",children:"ID del Usuario:"}),e.jsx("input",{type:"text",id:"senderId",name:"senderId",value:this.state.messageSender,onChange:this.handleInputChange2,required:!0,readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",children:"Asunto:"}),e.jsx("input",{type:"text",id:"subject",name:"subject",value:B,onChange:this.handleInputChange2,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",children:"Mensaje:"}),e.jsx("textarea",{id:"message",name:"message",value:F,onChange:this.handleInputChange2,required:!0})]}),e.jsx("button",{type:"submit",children:"Enviar Mensaje"})]}),le&&e.jsxs("div",{className:"messages",children:[e.jsx("i",{className:"fa-solid fa-xmark close",onClick:this.handleCloseMessagesWindow}),e.jsx("h2",{children:"Mensajes Recibidos"}),e.jsxs("ul",{children:[O.map((i,h)=>e.jsx("li",{style:{position:"relative"},onClick:()=>this.handleMessageClick(i.id),children:e.jsxs("p",{children:[i.subject,i.read=="false"&&e.jsx("i",{className:"fa-solid fa-bell"}),e.jsx("i",{className:"fa-solid fa-reply see-message"})]})},h)),O.length<1&&e.jsx("p",{className:"no-messages",children:"No hay mensajes"})]})]}),ce&&e.jsxs("div",{className:"message-div",children:[e.jsx("i",{className:"fa-solid fa-xmark close",onClick:this.handleCloseMessageClick}),e.jsx("h2",{children:"Mensaje recibido por administrador"}),C&&e.jsxs("p",{children:["Email: ",this.state.messageEmail]}),e.jsx("p",{className:"subject",children:this.state.messageSubject}),e.jsx("p",{className:"message",children:this.state.messageMessage}),e.jsxs("p",{className:"reply",onClick:()=>this.handleReplay(this.state.messageSender),children:["Responder",e.jsx("i",{className:"fa-solid fa-reply"})]})]})]})}}let Q=["../../src/assets/shampoo.jpg","../../src/assets/shampoo2.avif","../../src/assets/shampoo3.jpg","../../src/assets/shampoo4.avif","../../src/assets/shampoo5.avif"];const Ee=()=>{const[m,c]=k.useState(0),s=Math.ceil(Q.length/3),a=()=>{c(n=>n===0?s-1:n-1)},t=()=>{c(n=>n===s-1?0:n+1)},r=n=>{window.location.href=`product${n}/index.html`};return e.jsx("section",{className:"content-section",children:e.jsxs("div",{className:"want",children:[e.jsx("h1",{children:"¿QUIERES UN PELO ABENDET?"}),e.jsx("h3",{children:"¡DESCUBRE LA TRANSFORMACIÓN QUE TU CABELLO HA ESTADO ESPERANDO CON NUESTRA VARIEDAD DE SHAMPOOS!"}),e.jsxs("div",{className:"carousel-container",children:[e.jsx("button",{className:"carousel-btn prev",onClick:a,children:"❮"}),e.jsx("div",{className:"image-container",style:{transform:`translateX(-${m*100}%)`},children:Q.map((n,l)=>e.jsx("img",{src:n,className:"shampoo-img",alt:`Imagen ${l+1}`,onClick:()=>r(l)},l))}),e.jsx("button",{className:"carousel-btn next",onClick:t,children:"❯"})]})]})})},Le=()=>{const[m,c]=k.useState(!1);k.useEffect(()=>{const a=()=>{window.scrollY>50&&c(!0)};return window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}},[]);function s(){window.location.href="product5/index.html"}return e.jsxs("div",{className:`scroll-image-container ${m?"show":""}`,children:[e.jsx("img",{src:"../../src/assets/head-and.webp",alt:"Special",className:"scroll-image"}),e.jsx("h3",{children:"FRESCURA EN CADA LAVADO, ALIVIO SIN COMPROMISOS"}),e.jsx("button",{onClick:s,children:"Conocer más"})]})},Ue=()=>{const[m,c]=k.useState(!1);k.useEffect(()=>{const a=()=>{window.scrollY>550&&c(!0)};return window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}},[]);function s(a){switch(a.target.textContent){case"CASPA":window.location.href="caspa/index.html";break;case"BRILLO":window.location.href="brillo/index.html";break;case"ALISAMIENTO":window.location.href="alisamiento/index.html";break;case"REVITALIZACIÓN":window.location.href="revitalizacion/index.html";break;case"HIDRATACIÓN":window.location.href="hidratacion/index.html";break}}return e.jsxs("div",{className:`scroll-container  ${m?"show":""}`,children:[e.jsx("div",{className:"condition first",onClick:s,children:"CASPA"}),e.jsx("div",{className:"condition second",onClick:s,children:"BRILLO"}),e.jsx("div",{className:"condition third",onClick:s,children:"ALISAMIENTO"}),e.jsx("div",{className:"condition fourth",onClick:s,children:"REVITALIZACIÓN"}),e.jsx("div",{className:"condition fifth",onClick:s,children:"HIDRATACIÓN"})]})};Se.createRoot(document.getElementById("root")).render(e.jsxs(u.StrictMode,{children:[e.jsx(Me,{}),e.jsx(Ee,{}),e.jsx(Le,{}),e.jsx(Ue,{})]}));
